-- VHDL Entity ece411.mp3_CPU.symbol
--
-- Created:
--          by - bhatia9.UNKNOWN (gelib-057-32.ews.illinois.edu)
--          at - 18:03:09 10/27/11
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2005.3 (Build 75)
--
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.NUMERIC_STD.all;

LIBRARY ece411;
USE ece411.LC3b_types.all;

ENTITY mp3_CPU IS
   PORT( 
      RESET_L : IN     std_logic;
      clk     : IN     std_logic
   );

-- Declarations

END mp3_CPU ;

--
-- VHDL Architecture ece411.mp3_CPU.struct
--
-- Created:
--          by - bhatia9.UNKNOWN (gelib-057-32.ews.illinois.edu)
--          at - 18:03:09 10/27/11
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2005.3 (Build 75)
--
LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.NUMERIC_STD.all;

LIBRARY ece411;
USE ece411.LC3b_types.all;

LIBRARY ece411;

ARCHITECTURE struct OF mp3_CPU IS

   -- Architecture declarations

   -- Internal signal declarations
   SIGNAL DataAddr     : lc3b_word;
   SIGNAL DataMemIn    : lc3b_word;
   SIGNAL EX_C_In      : lc3b_word;
   SIGNAL EX_C_Out     : lc3b_word;
   SIGNAL ID_C_In      : lc3b_word;
   SIGNAL ID_C_Out     : lc3b_word;
   SIGNAL IF_C_In      : lc3b_word;
   SIGNAL InstMemIn    : lc3b_word;
   SIGNAL MEMWriteData : lc3b_word;
   SIGNAL MEM_C_In     : lc3b_word;
   SIGNAL MEM_C_Out    : lc3b_word;
   SIGNAL PCinstAddr   : lc3b_word;
   SIGNAL WB_C_In      : lc3b_word;
   SIGNAL im_read_l    : std_logic;
   SIGNAL im_resp_h    : std_logic;
   SIGNAL im_writeh_l  : std_logic;
   SIGNAL im_writel_l  : std_logic;
   SIGNAL instOut      : lc3b_word;


   -- Component Declarations
   COMPONENT CU
   PORT (
      EX_C_Out    : IN     lc3b_word ;
      ID_C_Out    : IN     lc3b_word ;
      MEM_C_Out   : IN     lc3b_word ;
      RESET_L     : IN     std_logic ;
      clk         : IN     std_logic ;
      im_resp_h   : IN     std_logic ;
      instOut     : IN     lc3b_word ;
      EX_C_In     : OUT    lc3b_word ;
      ID_C_In     : OUT    lc3b_word ;
      IF_C_In     : OUT    lc3b_word ;
      MEM_C_In    : OUT    lc3b_word ;
      WB_C_In     : OUT    lc3b_word ;
      im_read_l   : OUT    std_logic ;
      im_writeh_l : OUT    std_logic ;
      im_writel_l : OUT    std_logic 
   );
   END COMPONENT;
   COMPONENT MagicMemory
   PORT (
      DataAddr     : IN     lc3b_word ;
      MEMWriteData : IN     lc3b_word ;
      PCinstAddr   : IN     lc3b_word ;
      RESET_L      : IN     std_logic ;
      clk          : IN     std_logic ;
      im_read_l    : IN     std_logic ;
      im_writeh_l  : IN     std_logic ;
      im_writel_l  : IN     std_logic ;
      DataMemIn    : OUT    lc3b_word ;
      InstMemIn    : OUT    lc3b_word ;
      im_resp_h    : OUT    std_logic 
   );
   END COMPONENT;
   COMPONENT Pipeline
   PORT (
      DataMemIn    : IN     lc3b_word ;
      EX_C_In      : IN     lc3b_word ;
      ID_C_In      : IN     lc3b_word ;
      IF_C_In      : IN     lc3b_word ;
      InstMemIn    : IN     lc3b_word ;
      MEM_C_In     : IN     lc3b_word ;
      RESET_L      : IN     std_logic ;
      WB_C_In      : IN     lc3b_word ;
      clk          : IN     std_logic ;
      DataAddr     : OUT    lc3b_word ;
      EX_C_Out     : OUT    lc3b_word ;
      ID_C_Out     : OUT    lc3b_word ;
      MEMWriteData : OUT    lc3b_word ;
      MEM_C_Out    : OUT    lc3b_word ;
      PCinstAddr   : OUT    lc3b_word ;
      instOut      : OUT    lc3b_word 
   );
   END COMPONENT;

   -- Optional embedded configurations
   -- pragma synthesis_off
   FOR ALL : CU USE ENTITY ece411.CU;
   FOR ALL : MagicMemory USE ENTITY ece411.MagicMemory;
   FOR ALL : Pipeline USE ENTITY ece411.Pipeline;
   -- pragma synthesis_on


BEGIN

   -- Instance port mappings.
   ControlUnit : CU
      PORT MAP (
         EX_C_Out    => EX_C_Out,
         ID_C_Out    => ID_C_Out,
         MEM_C_Out   => MEM_C_Out,
         RESET_L     => RESET_L,
         clk         => clk,
         im_resp_h   => im_resp_h,
         instOut     => instOut,
         EX_C_In     => EX_C_In,
         ID_C_In     => ID_C_In,
         IF_C_In     => IF_C_In,
         MEM_C_In    => MEM_C_In,
         WB_C_In     => WB_C_In,
         im_read_l   => im_read_l,
         im_writeh_l => im_writeh_l,
         im_writel_l => im_writel_l
      );
   mySanta : MagicMemory
      PORT MAP (
         DataAddr     => DataAddr,
         MEMWriteData => MEMWriteData,
         PCinstAddr   => PCinstAddr,
         RESET_L      => RESET_L,
         clk          => clk,
         im_read_l    => im_read_l,
         im_writeh_l  => im_writeh_l,
         im_writel_l  => im_writel_l,
         DataMemIn    => DataMemIn,
         InstMemIn    => InstMemIn,
         im_resp_h    => im_resp_h
      );
   PipelineDataPath : Pipeline
      PORT MAP (
         DataMemIn    => DataMemIn,
         EX_C_In      => EX_C_In,
         ID_C_In      => ID_C_In,
         IF_C_In      => IF_C_In,
         InstMemIn    => InstMemIn,
         MEM_C_In     => MEM_C_In,
         RESET_L      => RESET_L,
         WB_C_In      => WB_C_In,
         clk          => clk,
         DataAddr     => DataAddr,
         EX_C_Out     => EX_C_Out,
         ID_C_Out     => ID_C_Out,
         MEMWriteData => MEMWriteData,
         MEM_C_Out    => MEM_C_Out,
         PCinstAddr   => PCinstAddr,
         instOut      => instOut
      );

END struct;
